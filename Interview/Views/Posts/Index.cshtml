@model PagedList.IPagedList<Interview.Models.Post>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Index";
}

<div class="row hidden-lg">
    <div class="col-sm-offset-4 col-sm-4">
        @Html.ActionLink("New Post", "Create", "Posts", new { @class = "btn btn-primary" })
    </div>
</div>

<div class="row">
    <div class="col-lg-offset-3 col-lg-6">
        <ul id="filter">
            <li class="filter-active">
                @Ajax.ActionLink("All", "Filter", null,new AjaxOptions
           {
               InsertionMode = InsertionMode.Replace,
               UpdateTargetId = "post-list"
           }, new { id = "filter-all"})
            </li>
            <li>
                @Ajax.ActionLink("Top", "Filter", new { filter = "topPosts"},new AjaxOptions
           {
               InsertionMode = InsertionMode.Replace,
               UpdateTargetId = "post-list"
           }, new { id="filter-top"})
            </li>
            <li>
                @Ajax.ActionLink("Latest", "Filter", new { filter = "latestPosts" }, new AjaxOptions
           {
               InsertionMode = InsertionMode.Replace,
               UpdateTargetId = "post-list"
           }, new { id = "filter-latest" })
            </li>
    </ul>
        <div class="clearfix"></div>
    </div>
</div>
<div class="row">
    <div class="col-lg-offset-1 col-lg-8">
        <hr id="filter-hr" />
    </div>
</div>

<div class="row">
    <div class="col-md-12 col-lg-9" id="post-list">
        @Html.Partial("_Posts")
    </div>
    <div class="col-lg-3 hidden-md hidden-sm hidden-xs">
        @Html.Partial("_SideBar")
    </div>
</div>

@section Scripts{
    <script>

        $(function () {

            var selector = "#filter li ";
            //Removes click event of each li
            $(selector).unbind('click');
            //Add click event
            $(selector).bind('click', function () {
                $(selector).removeClass('filter-active');
                $(this).addClass('filter-active');
            });

        });
    </script>
}